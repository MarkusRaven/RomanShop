(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5937d18e"],{1175:function(e,t,a){"use strict";a.r(t);a("99af"),a("b0c0");var r=a("7a23"),c={class:"payment",ref:"payment"},l={class:"payment__wrapper"},o={class:"payment__row"},n={class:"payment__info"},i={class:"appForm__step"},p={class:"appTitle appTitle--left mt-0"},s={class:"appText"},d={class:"appForm__billingWrap"},m={class:"appForm__group appForm__group--full appForm__group--col "},u=Object(r["j"])("label",{for:"fio"},"ФИО",-1),j={class:"appForm__group appForm__group--half appForm__group--col "},b={for:"email"},O={class:"appForm__group  appForm__group--half appForm__group--col"},f={for:"Phone"},_={class:"appForm__group  appForm__group--half appForm__group--col"},h={for:"Address"},v={class:"appForm__group  appForm__group--half appForm__group--col"},g={for:"Postal"},F={class:"appForm__step"},P={class:"appTitle appTitle--left"},M={class:"appText"},y={class:"appCheckbox groupCheckbox full"},V={for:"With"},w=Object(r["j"])("button",{class:"appForm__btn appBtn appBtn--outline"}," Complete order ",-1),x={class:"payment__order order"},E=Object(r["j"])("h2",{class:"appTitle appTitle--left order__title"}," Ваш заказ ",-1),$=Object(r["j"])("p",{class:"appText order__text"}," Цена может варьироваться в зависимости от способа доставки и налогов вашего города. ",-1),k=["src"],T={class:"itemSmall__info"},A={class:"itemSmall__title"},W={class:"itemSmall__price"},C={class:"itemSmall__priceinfo"},I={class:"total__price price"},S=Object(r["j"])("div",{class:"price__info"},[Object(r["j"])("p",null,[Object(r["j"])("b",null,"Итог:")])],-1),U={class:"price__count"};function q(e,t,a,q,J,B){var H=Object(r["J"])("Field"),D=Object(r["J"])("ErrorMessage"),R=Object(r["J"])("Form");return Object(r["C"])(),Object(r["i"])("main",c,[Object(r["j"])("div",l,[Object(r["j"])("div",o,[Object(r["j"])("div",n,[Object(r["m"])(R,{class:"payment__form appForm",onSubmit:t[6]||(t[6]=function(e){return B.completeOrder()}),"validation-schema":B.schema,ref:"myForm"},{default:Object(r["T"])((function(){return[Object(r["j"])("div",i,[Object(r["j"])("h2",p,Object(r["M"])(e.$t("BillingH1")),1),Object(r["j"])("p",s,Object(r["M"])(e.$t("Pleaseр2")),1),Object(r["j"])("div",d,[Object(r["j"])("div",m,[u,Object(r["m"])(H,{id:"fio",name:"fio",type:"fio",class:"appInput",modelValue:J.order.full_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return J.order.full_name=e}),modelModifiers:{trim:!0},placeholder:"ФИО"},null,8,["modelValue"]),Object(r["m"])(D,{class:"appError",name:"fio"})]),Object(r["j"])("div",j,[Object(r["j"])("label",b,Object(r["M"])(e.$t("Email")),1),Object(r["m"])(H,{id:"email",name:"email",type:"email",class:"appInput",modelValue:J.order.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return J.order.email=e}),modelModifiers:{trim:!0},placeholder:e.$t("Email")},null,8,["modelValue","placeholder"]),Object(r["m"])(D,{class:"appError",name:"email"})]),Object(r["j"])("div",O,[Object(r["j"])("label",f,Object(r["M"])(e.$t("Phone")),1),Object(r["m"])(H,{id:"Phone",name:"Phone",type:"Phone",class:"appInput",modelValue:J.order.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return J.order.tel=e}),modelModifiers:{trim:!0},placeholder:e.$t("Phone")},null,8,["modelValue","placeholder"]),Object(r["m"])(D,{class:"appError",name:"Phone"})]),Object(r["j"])("div",_,[Object(r["j"])("label",h,Object(r["M"])(e.$t("Address")),1),Object(r["m"])(H,{id:"Address",name:"Address",type:"Address",class:"appInput",modelValue:J.order.address.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return J.order.address.address=e}),modelModifiers:{trim:!0},placeholder:e.$t("Address")},null,8,["modelValue","placeholder"]),Object(r["m"])(D,{class:"appError",name:"Address"})]),Object(r["j"])("div",v,[Object(r["j"])("label",g,Object(r["M"])(e.$t("Postal")),1),Object(r["m"])(H,{id:"Postal",name:"Postal",type:"Postal",class:"appInput",modelValue:J.Postal,"onUpdate:modelValue":t[4]||(t[4]=function(e){return J.Postal=e}),modelModifiers:{trim:!0},placeholder:e.$t("Postal")},null,8,["modelValue","placeholder"]),Object(r["m"])(D,{class:"appError",name:"Postal"})])])]),Object(r["j"])("div",F,[Object(r["j"])("h2",P,Object(r["M"])(e.$t("ConfirmationH1")),1),Object(r["j"])("p",M,Object(r["M"])(e.$t("Weare")),1),Object(r["j"])("div",y,[Object(r["j"])("div",null,[Object(r["m"])(H,{name:"With",id:"With",type:"checkbox",modelValue:J.With,"onUpdate:modelValue":t[5]||(t[5]=function(e){return J.With=e})},null,8,["modelValue"]),Object(r["j"])("label",V,Object(r["M"])(e.$t("With")),1)])]),Object(r["m"])(D,{class:"appError",name:"With"})]),w]})),_:1},8,["validation-schema"])]),Object(r["j"])("div",x,[E,$,(Object(r["C"])(!0),Object(r["i"])(r["a"],null,Object(r["H"])(e.cart.cart,(function(e){var t;return Object(r["C"])(),Object(r["i"])("div",{class:"order__item itemSmall",key:e.id},[Object(r["j"])("img",{src:"".concat(J.ApiInstance).concat(null===(t=e.product)||void 0===t?void 0:t.photo),class:"itemSmall__img"},null,8,k),Object(r["j"])("div",T,[Object(r["j"])("h4",A,Object(r["M"])(e.name),1),Object(r["j"])("div",W,[Object(r["j"])("span",C,Object(r["M"])(e.price)+" р.",1)])])])})),128)),Object(r["j"])("div",I,[S,Object(r["j"])("div",U,Object(r["M"])(e.totalPrice)+" р.",1)])])])])],512)}var J=a("5530"),B=a("1da1"),H=(a("96cf"),a("5502")),D=a("7bb1"),R=a("506a"),K=a("db49"),L=a("e692"),z={data:function(){return{ApiInstance:K["a"],order:{tel:"",full_name:"",obtain:"",address:{address:""}},Postal:"",With:!1,loaded:!1}},mounted:function(){this.product.price=this.cart.final_price>0?this.cart.final_price:"200"},methods:{completeOrder:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.cart.cart.length>0)){t.next=18;break}return t.prev=1,t.next=4,Object(L["j"])(Object(J["a"])(Object(J["a"])({},e.order),{},{price:e.totalPrice,obtain:"CDEK"}));case 4:return a=t.sent,r=new FormData,r.append("id",a.id),t.next=9,Object(L["k"])(r);case 9:c=t.sent,window.location.href=c.confirmation.confirmation_url,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),console.log(t.t0);case 16:t.next=19;break;case 18:alert("add product in cart");case 19:case"end":return t.stop()}}),t,null,[[1,13]])})))()}},computed:Object(J["a"])(Object(J["a"])({},Object(H["b"])(["cart","isLoggedIn","totalPrice"])),{},{schema:function(){return R["b"]({fio:R["c"]().required("фио обязательное поле"),email:R["c"]().required("email обязательное поле").email("неверный email"),Phone:R["c"]().required("телефон обязательное поле"),Address:R["c"]().required("адрес обязательное поле"),Postal:R["c"]().required("почтовый индекс обязательное поле"),With:R["a"]().oneOf([!0],"Необходимо принять политику конфиденциальности")})}}),components:{Form:D["c"],Field:D["b"],ErrorMessage:D["a"]}},G=(a("bacb"),a("d959")),N=a.n(G);const Q=N()(z,[["render",q]]);t["default"]=Q},"99af":function(e,t,a){"use strict";var r=a("23e7"),c=a("d039"),l=a("e8b5"),o=a("861d"),n=a("7b0b"),i=a("50c4"),p=a("8418"),s=a("65f0"),d=a("1dde"),m=a("b622"),u=a("2d00"),j=m("isConcatSpreadable"),b=9007199254740991,O="Maximum allowed index exceeded",f=u>=51||!c((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),_=d("concat"),h=function(e){if(!o(e))return!1;var t=e[j];return void 0!==t?!!t:l(e)},v=!f||!_;r({target:"Array",proto:!0,forced:v},{concat:function(e){var t,a,r,c,l,o=n(this),d=s(o,0),m=0;for(t=-1,r=arguments.length;t<r;t++)if(l=-1===t?o:arguments[t],h(l)){if(c=i(l.length),m+c>b)throw TypeError(O);for(a=0;a<c;a++,m++)a in l&&p(d,m,l[a])}else{if(m>=b)throw TypeError(O);p(d,m++,l)}return d.length=m,d}})},"99d1":function(e,t,a){},bacb:function(e,t,a){"use strict";a("99d1")}}]);
//# sourceMappingURL=chunk-5937d18e.2f2b69e2.js.map